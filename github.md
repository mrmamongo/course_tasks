# Git(Hub) basics

> Это просто файл с полезной инфой по Гиту, ибо оно вам оч понадобится

## Базовые понятия

- repository (репозиторий, репо) - фактически, проект, со всей его историей
    - local (локальный) - фактически, ваш проект локально, в файловой системе компьютера
    - remote (удалённый) - репозиторий на неком сервере (не являющийся локальным), как правило это (для вас) репозиторий на GitHub'е
        - основной удалённый репозиторий (а их может быть несколько) называется `remote`
- commit (коммит) - фактически, список каких-то изменений в проекте, записанный в историю в пределах репозиторий
- branch (ветка) - отдельная веха в истории репозитория, отвевившаяся (за исключением главной) от другой; используется для того, чтобы работать над изменениями, не затрагивая (до нужного момента) основную ветку

- Основная ветка называется `master`

- merge (слияние, слив) - процесс записи в некоторую ветку изменений из другой ветки

    - pull-request (GitHub), merge-request (GitLab) - запрос на merge одной ветки в другую с дополнительными удобствами, в зависимости от платформ

  > Пример: исправление бага №3 делается в ветке `bugfix-3`, ответвлённой от `master`, а затем, когда завершено, "сливается" в ветку `master` за счёт создания соответствующего pull-request'а

- push (пуш) - отправка коммитов из ветки локального репозитория в ветку удалённого репозитория

- pull (пулл, вытягивание) - взятие актуальной истории коммитов  из ветки удалённого репозитория в ветку локального репозитория

- CI - некое приложение, как правило на удалённом сервере, обеспечивающее интеграцию вашей работы в репозитории с некоторыми другими процессами (например, CI может выполнять проверки качества кода)

- fork (форк) - ответвление от чужого репозитория

## Основные действия (& команды и кнопки в CLion)

### Создание репозитория

###### Локально:

```bash
git init
```

**В CLion**: <kbd>VCS</kbd> \| <kbd>Import into Version Control</kbd> \| <kbd>Create Git Repository</kbd>

###### На основании удалённого репозитория (клонирование)

```bash
git clone <адрес>
```

Адрес имеет вид:

`https://github.com/<имя пользователя | название организации>/<название репозитория>.git`

либо

`git@github.com:<имя пользователя | название организации>/<название репозитория>.git`

**В CLion**: <kbd>VCS</kbd> \| <kbd>Get from Version Control</kbd>

### Установка удалённого репозитория для существующего проекта

```bash
git remote set-url origin <адрес>
```

**В CLion**: <kbd>VCS</kbd> \| <kbd>Git</kbd> \| <kbd>Remotes</kbd> \| <kbd>+</kbd>

### Добавление файлов в историю (в пределах текущего коммита)

```bash
git add <маска файл>
```

Маска файла может быть именем файла или шаблоном, как, например, `*.cpp`, обозначающее все файлы с расширением `cpp`

**В CLion**: автоматически спрашивается при создании файла, либо явно: <kbd>CTRL</kbd><kbd>[ALT]</kbd><kbd>[A]</kbd>

### Создание коммита

###### На основании только тех файлов, которые были добавлены с момента последнего коммита

```bash
git commit -m "<сообщение к коммиту>"
```

###### Из всех файлов, которые уже отслеживаются (были хоть раз добавлены)

```bash
git commit -a -m "<сообщение к коммиту>"
```

**В CLion**: *<зелёная галочка справа слева>* либо <kbd>CTRL</kbd><kbd>K</kbd>, в меню выбираются файлы, которые необходимо добавить в данный коммит (можно, в том числе, коммитить только часть файла)

### Пуш изменений в ветку удалённого репозитория

```bash
git push origin <ветка>
```

**В CLion**: выбор пункта *Commit and Push* в меню коммита, либо <kbd>CTRL</kbd><kbd>SHIFT</kbd><kbd>K</kbd>

### Пулл изменений из ветки удалённого репозитория в одноимённую ветку локальнго репозитория

```bash
git pull
```

**В CLion**: <kbd><синяя стрелочка справа слева></kbd> либо <kbd>CTRL</kbd><kbd>T</kbd>

### Смена ветки (локально)

###### С созданием новой ветки

``````bash
git checkout -b <ветка>
``````

**В CLion**: <kbd>Git: <текущая ветка></kbd> (эта кнопка находится в правом нижнем углу) | <kbd>New branch</kbd>

###### Без создания новой ветки

```bash
git checkout <ветка>
```

## Нормальный цикл разработки проекта

1. Сразу создать удалённый репозиторий (либо создать локальный и установить для него remote перед первым пушем)
2. Переключиться на рабочую ветку (например, `my-magical-development`)
3. Для каждой группы изменений создавать новый коммит
4. Как только работа (вся или её цельная часть) закончена, запушить изменения в удалённый репозиторий
5. Создать запрос на слияние ветки в основную (по умолчанию, `master`)
6. Однозначно закончив работу над этой фичей, сделав всё необходимое (например, какие-то проверки и/или пройдя чьё-то ревью) принять запрос на слияние
7. Локально переключиться на основную ветку и выкачать (pull) её актуальное состояние
8. goto #2